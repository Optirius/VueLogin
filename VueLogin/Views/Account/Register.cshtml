@{
    ViewData["Title"] = "Register";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Register</h1>

<h4>UserList</h4>
<hr />
<div class="row">
    <div class="col-md-4">
        <form id="Register">
            <div class="text-danger">{{warningmessage}}</div>
            <div class="form-group">
                <label for="Email" class="control-label"></label>
                <input name="Email" class="form-control" />
            </div>
            <div class="form-group">
                <label for="Password" class="control-label"></label>
                <input type="password" name="Password" class="form-control" />
            </div>
            <div class="form-group">
                <label for="ConfirmPassword" class="control-label"></label>
                <input type="password" name="ConfirmPassword" class="form-control" />
            </div>
            <div class="form-group">
                <input @@click="register" type="submit" value="Register" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>

@*<div>
        <a asp-action="Index">Back to List</a>
    </div>*@


@{
    await Html.RenderPartialAsync("_Externalcdns");
}

<script>

    new Vue({
        el: "#Register",

        data: {
            email: "",
            password: "",
            confirmpassword: "",
            warningmessage: ""
        },

        @*created: function () {
            debugger;
            if("@role" == "True")
            {
                this.message = "Admin Detected!"
            }
        },*@

        methods: {
            register: function () {

                if (this.password == this.confirmpassword) {
                    axios.post("/Account/Register", {
                        Email: this.email,
                        Password: this.password,
                    });
                } else {
                    this.warningmessage = "Passwords do not match!";
                }
            }

        },
    });

</script>